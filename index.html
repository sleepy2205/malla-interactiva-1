<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Plan de Estudio Medicina UNITEC</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #fff0f5;
      font-family: 'Quicksand', sans-serif;
      color: #333;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      font-size: 2.2em;
      font-weight: 600;
      margin-top: 20px;
      margin-bottom: 15px;
      background-image: linear-gradient(to right, #f06292, #f8bbd0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    #contador {
      text-align: center;
      margin: 10px 0;
      font-weight: bold;
      color: #d81b60;
    }

    #reiniciar {
      display: block;
      margin: 10px auto 30px auto;
      background-color: #ec407a;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      box-shadow: 0 4px 8px rgba(240, 98, 146, 0.4);
    }

    .clases {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
    }

    .clase {
      background-color: #f8bbd0;
      color: #333;
      border-radius: 16px;
      padding: 18px;
      width: 180px;
      box-shadow: 0 4px 10px rgba(240, 98, 146, 0.3);
      transition: 0.3s;
      cursor: pointer;
      opacity: 0.5;
      pointer-events: none;
      position: relative;
      text-align: center;
    }

    .clase.activa {
      opacity: 1;
      pointer-events: auto;
      transform: scale(1.03);
    }

    .clase:hover {
      box-shadow: 0 6px 14px rgba(240, 98, 146, 0.4);
    }

    .clase.completada {
      background-color: #fce4ec;
      color: #777;
      text-decoration: line-through;
    }

    h2 {
      color: #ec407a;
      margin-top: 40px;
      text-align: center;
    }

    #personaje-container {
      text-align: center;
      margin-bottom: 10px;
    }

    #personaje-img {
      width: 120px;
      max-height: 120px;
      object-fit: contain;
      margin: 0 auto;
    }

    .clase::after {
      content: "游뽘";
      position: absolute;
      top: 8px;
      right: 10px;
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <div id="personaje-container">
    <img id="personaje-img" src="https://i.imgur.com/a3631af6-2745-497d-83dc-23b2f5ed3850.png" alt="Hello Kitty m칠dica">
  </div>

  <h1>游눘 Plan de Estudio Medicina UNITEC 游뽘</h1>
  <div id="contador">UV Completadas: 0 / 409</div>
  <button id="reiniciar">Reiniciar progreso</button>

  <div id="contenedor">
    <div id="grupo-1"><h2>游닂 Primer A침o - Primer Periodo</h2><div class="clases"></div></div>
    <div id="grupo-2"><h2>游닂 Primer A침o - Segundo Periodo</h2><div class="clases"></div></div>
    <div id="grupo-3"><h2>游닂 Segundo A침o - Tercer Periodo</h2><div class="clases"></div></div>
    <div id="grupo-4"><h2>游닂 Segundo A침o - Cuarto Periodo</h2><div class="clases"></div></div>
    <div id="grupo-5"><h2>游닂 Tercer A침o - Quinto Periodo</h2><div class="clases"></div></div>
    <div id="grupo-6"><h2>游닂 Tercer A침o - Sexto Periodo</h2><div class="clases"></div></div>
    <div id="grupo-7"><h2>游닂 Cuarto A침o - S칠ptimo Periodo</h2><div class="clases"></div></div>
    <div id="grupo-8"><h2>游닂 Cuarto A침o - Octavo Periodo</h2><div class="clases"></div></div>
    <div id="grupo-9"><h2>游닂 Quinto A침o</h2><div class="clases"></div></div>
    <div id="grupo-10"><h2>游닂 Sexto A침o</h2><div class="clases"></div></div>
    <div id="grupo-11"><h2>游닂 S칠ptimo A침o</h2><div class="clases"></div></div>
  </div>
<script>
const datos = [
  // Primer A침o - Periodo 1
  { codigo: "MAT101", nombre: "Introducci칩n al 츼lgebra", uv: 4 },
  { codigo: "MDE109", nombre: "Desarrollo humano y social", uv: 4 },
  { codigo: "MDE110", nombre: "Biolog칤a", uv: 4 },
  { codigo: "QUI105", nombre: "Qu칤mica general", uv: 4 },
  { codigo: "FIS101", nombre: "F칤sica general", uv: 4 },
  { codigo: "LEN101", nombre: "Lenguaje y comunicaci칩n", uv: 4 },

  // Segundo Periodo
  { codigo: "BIO102", nombre: "Anatom칤a humana", uv: 4, req: ["MDE110"] },
  { codigo: "QUI106", nombre: "Qu칤mica org치nica", uv: 4, req: ["QUI105"] },
  { codigo: "PSI201", nombre: "Psicolog칤a general", uv: 4 },
  { codigo: "FIL102", nombre: "칄tica profesional", uv: 4 },
  { codigo: "MAT102", nombre: "Estad칤stica", uv: 4, req: ["MAT101"] },
  { codigo: "CSO101", nombre: "Sociolog칤a", uv: 4 },

  // (Agrega tus periodos del 3 al 10 aqu칤 como ya los ten칤as antes)

  // Sexto A침o
  { codigo: "MDE605", nombre: "Internado ginecoobstetr칤cia", uv: 16, req: ["TODAS"] },
  { codigo: "MDE606", nombre: "Internado pediatr칤a", uv: 16, req: ["TODAS"] },
  { codigo: "MDE607", nombre: "Internado cirug칤a", uv: 16, req: ["TODAS"] },
  { codigo: "MDE608", nombre: "Internado medicina interna", uv: 16, req: ["TODAS"] },

  // S칠ptimo A침o
  { codigo: "MDE702", nombre: "Servicio social obligatorio 1 a침o", uv: 0, req: ["TODAS"] },
  { codigo: "MDE703", nombre: "Servicio social obligatorio 6 meses", uv: 0, req: ["TODAS"] }
];

const contenedor = document.getElementById("contenedor");
const completadas = JSON.parse(localStorage.getItem("completadas") || "[]");

datos.forEach((clase, i) => {
  const div = document.createElement("div");
  div.className = "clase";
  div.innerHTML = `
    <div class="codigo">${clase.codigo}</div>
    <div>${clase.nombre}</div>
    <div class="uv">UV: ${clase.uv}</div>
    <div class="req">${clase.req ? `Requiere: ${Array.isArray(clase.req) ? clase.req.join(", ") : clase.req}` : ""}</div>
  `;
  div.dataset.codigo = clase.codigo;

  const grupoIndex = i < 6 ? 1 :
                     i < 12 ? 2 :
                     i < 18 ? 3 :
                     i < 24 ? 4 :
                     i < 30 ? 5 :
                     i < 36 ? 6 :
                     i < 42 ? 7 :
                     i < 48 ? 8 :
                     i < 54 ? 9 :
                     i < 58 ? 10 :
                     i < 63 ? 11 : 11;

  document.querySelector(`#grupo-${grupoIndex} .clases`).appendChild(div);
});

const clasesDOM = document.querySelectorAll(".clase");

function actualizarActivas() {
  clasesDOM.forEach(div => {
    const codigo = div.dataset.codigo;
    const clase = datos.find(c => c.codigo === codigo);
    const requisitos = clase.req;

    if (!requisitos || requisitos === "TODAS" && completadas.length >= datos.length - 2 || 
        Array.isArray(requisitos) && requisitos.every(r => completadas.includes(r))) {
      div.classList.add("activa");
    } else {
      div.classList.remove("activa");
    }
  });
}

function actualizarContador() {
  let total = completadas.reduce((sum, codigo) => {
    const clase = datos.find(c => c.codigo === codigo);
    return sum + (clase ? clase.uv : 0);
  }, 0);
  document.getElementById("contador").textContent = `UV Completadas: ${total} / 409`;
}

clasesDOM.forEach(div => {
  const codigo = div.dataset.codigo;
  if (completadas.includes(codigo)) {
    div.classList.add("completada");
  }
  div.addEventListener("click", () => {
    if (!div.classList.contains("activa") && !div.classList.contains("completada")) return;
    if (div.classList.contains("completada")) {
      div.classList.remove("completada");
      const index = completadas.indexOf(codigo);
      if (index > -1) completadas.splice(index, 1);
    } else {
      div.classList.add("completada");
      completadas.push(codigo);
    }
    localStorage.setItem("completadas", JSON.stringify(completadas));
    actualizarActivas();
    actualizarContador();
  });
});

actualizarActivas();
actualizarContador();

document.getElementById("reiniciar").addEventListener("click", () => {
  if (confirm("쮼st치s segura de que quieres reiniciar tu progreso?")) {
    localStorage.removeItem("completadas");
    location.reload();
  }
});
</script>
</body>
</html>
